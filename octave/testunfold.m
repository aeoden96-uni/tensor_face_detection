T = zeros (3, 2, 2, 2);

T(1,1,1,1) = 1;
T(1,2,1,1) = 2;
T(2,1,1,1) = 3;
T(2,2,1,1) = 4;
T(3,1,1,1) = 5;
T(3,2,1,1) = 6;
T(1,1,2,1) = 7;
T(1,2,2,1) = 8;
T(2,1,2,1) = 9;
T(2,2,2,1) = 10;
T(3,1,2,1) = 11;
T(3,2,2,1) = 12;
T(1,1,1,2) = 13;
T(1,2,1,2) = 14;
T(2,1,1,2) = 15;
T(2,2,1,2) = 16;
T(3,1,1,2) = 17;
T(3,2,1,2) = 18;
T(1,1,2,2) = 19;
T(1,2,2,2) = 20;
T(2,1,2,2) = 21;
T(2,2,2,2) = 22;
T(3,1,2,2) = 23;
T(3,2,2,2) = 24;

T1 = MyUnfold(T,1);
T2 = MyUnfold(T,2);
T3 = MyUnfold(T,3);

T3d = zeros (3,3,2);

T3d(1,1,1) = 1;
T3d(1,2,1) = 2;
T3d(1,3,1) = 3;
T3d(2,1,1) = 4;
T3d(2,2,1) = 5;
T3d(2,3,1) = 6;
T3d(3,1,1) = 7;
T3d(3,2,1) = 8;
T3d(3,3,1) = 9;
T3d(1,1,2) = 10;
T3d(1,2,2) = 11;
T3d(1,3,2) = 12;
T3d(2,1,2) = 13;
T3d(2,2,2) = 14;
T3d(2,3,2) = 15;
T3d(3,1,2) = 16;
T3d(3,2,2) = 17;
T3d(3,3,2) = 18;

T13d = unfold(T3d, 1);
T23d = unfold(T3d, 2);
T33d = unfold(T3d, 3);

A = fold(T13d, 1, [3 3 2]);
B = fold(T23d, 2, [3 3 2]);
C = fold(T33d, 3, [3 3 2]);

